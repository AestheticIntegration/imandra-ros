(jbuild_version 1)

(executable
  ( (name        test)
    (public_name test)
    (modules (test))
    (libraries ( rosocaml lwt ) ) 
  )
)

(executable
  ( (name        test_slave)
    (public_name test_slave)
    (modules (test_slave))
    (libraries ( rosocaml lwt ) ) 
  )
)



(library
  ( (name        rosocaml)
    (public_name rosocaml)
    (wrapped     false)
    (modules (master_api slave_api slave_client slave_server))
    (preprocess (pps (ppx_deriving_rpc)))
    (libraries 
      ( rpclib
        rpclib-lwt
        cohttp-lwt-unix
      ) 
    ) 
  )
)
